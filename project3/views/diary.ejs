<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Catalogue & Diary – Cats of NYUAD</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="walking-cat"></div>
  <%- include('partials/nav', { active }) %>
  <main class="notebook notebook--diary" role="main" aria-label="Two-page diary spread">
    <section class="page page--left overlay-sheet" aria-label="Catalogue entry">
      <% if (entries && entries[0]) { const e = entries[0]; %>
        <img id="left-photo" class="photo-box photo-box--left" alt="Cat photo on left page" src="<%= e.imageUrl || '/images/coverpage.png' %>"/>
        
        <div class="line-text line-text--left-name">
          <span class="label">Cat name</span>
          <span id="left-catname"><%= e.catName %></span>
        </div>

        <div class="line-text line-text--left-photographer">
          <span class="label">Photographer</span>
          <span id="left-photographer"><%= e.photographer || 'Feline spotter' %></span>
        </div>

        <div class="line-text line-text--left-location">
          <span class="label">Location seen</span>
          <span id="left-location"><%= e.location %></span>
        </div>

        <div class="multiline multiline--left-diary">
          <span class="label">Diary entry</span>
          <span id="left-diary"><%= e.description %></span>
        </div>
      <% } else { %>
        <p class="lead">No entries yet — be the first to <a href="/add-entry">share an entry</a>!</p>
      <% } %>
      <a class="paw-hotspot paw-prev" href="#" aria-label="Go to previous diary entry"></a>

      <img
        class="diary-illustration diary-illustration--left"
        src="/images/catface.png"
        alt=""
        aria-hidden="true"
      />
      <img
        class="diary-illustration diary-illustration--left-outer"
        src="/images/catbody3.png"
        alt=""
        aria-hidden="true"
      />
    </section>

    <div class="spiral" aria-hidden="true"></div>

    <section class="page page--right overlay-sheet" aria-label="Diary entry">
      <% if (entries && entries[1]) { const e = entries[1]; %>
        <img id="right-photo" class="photo-box photo-box--right" alt="Cat photo on right page" src="<%= e.imageUrl || '/images/coverpage.png' %>"/>
        
        <div class="line-text line-text--right-name">
          <span class="label">Cat name</span>
          <span id="right-catname"><%= e.catName %></span>
        </div>

        <div class="line-text line-text--right-photographer">
          <span class="label">Photographer</span>
          <span id="right-photographer"><%= e.photographer || 'Feline Spotter' %></span>
        </div>

        <div class="line-text line-text--right-location">
          <span class="label">Location seen</span>
          <span id="right-location"><%= e.location %></span>
        </div>

        <div class="multiline multiline--right-diary">
          <span class="label">Diary entry</span>
          <span id="right-diary"><%= e.description %></span>
        </div>
      <% } %>
      <a class="paw-hotspot paw-next" href="#" aria-label="Go to next diary entry"></a>

      <img
        class="diary-illustration diary-illustration--right"
        src="/images/catbody4.png"
        alt=""
        aria-hidden="true"
      />
      <img
        class="diary-illustration diary-illustration--right-outer"
        src="/images/catface2.png"
        alt=""
        aria-hidden="true"
      />
    </section>
  </main>

  <!-- expose entries and load flip logic -->
  <script>window.__ENTRIES__ = <%- JSON.stringify(entries || []) %>;</script>
  <script src="/app.js" defer></script>
</body>
</html>
